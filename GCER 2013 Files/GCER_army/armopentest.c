// Created on Mon June 10 2013
#include "generic.h"
#include "createDrive.h"

#define SERV_CLAW 1
void claw_close(){
	set_servo_position(SERV_CLAW,2040);
}
void claw_open(){
	set_servo_position(SERV_CLAW,646);
}
void claw_half()
{
	set_servo_position(SERV_CLAW,1800);
}

#define MOT_ARM  3//the mot_arm that isn't the create
//#define MOT_ARM2 2//the mot_arm that isn't the create

#define SEN_ARM() (digital(15))

void liftArm()
{
	fd(MOT_ARM);//fd(MOT_ARM2);
	create_motor_slow(80);
	WAIT(SEN_ARM());
	mrp(MOT_ARM,0,1000);
	create_motor_slow(10);
	msleep(1000);
	//fd(MOT_ARM);
	create_motor_slow(25);
	WAIT(SEN_ARM());
	ao();
	create_motor_slow(0);
	mrp(MOT_ARM,0,1000);
}
int main()
{
	create_connect();
	enable_servo(SERV_CLAW);
	//clear_motor_position_counter(MOT_ARM);
	beep();
	claw_close();
	sleep(1);
	liftArm();
	create_backward(1000,100);
	create_forward(100,100);
	create_block();
	create_disconnect();
	/*claw_half();
	create_backward(10,10);
	create_slow(25,5);
	create_forward(10,10);
	create_drive_direct(-1,-1,10);
	create_drive_direct(1,1,10);
	set_servo_position(CLAW,646);
	create_disconnect();*/
}
